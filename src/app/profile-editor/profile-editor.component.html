<div style="margin-top: 15px; padding-left: 15px; padding-right: 15px;">
  <form [formGroup]="profileForm" (ngSubmit)="onSubmit()"
    class="needs-validation" novalidate>

    <!-- <h6>Event Date/Venue</h6> -->

    <div class="form-group">
      <label for="date">Event Date</label>
      <div class="input-group">
        <input class="form-control" placeholder="yyyy-mm-dd"
          name="dp" formControlName="date" ngbDatepicker #d="ngbDatepicker">
        <div class="input-group-append">
          <button class="btn btn-outline-secondary calendar"
            (click)="d.toggle()"
            type="button"></button>
        </div>
      </div>
      <div *ngIf="profileForm.get('date').invalid &&
        (profileForm.get('date').dirty || profileForm.get('date').touched)"
        class="alert alert-danger">
        Please choose an Event Date.
      </div>
    </div>

    <div class="form-group">
      <label for="venue">Venue</label>
      <input formControlName="venue" type="text" class="form-control"
        id="venue" aria-describedby="venueHelp"
        required
        [ngbTypeahead]="searchVenue">
      <div *ngIf="profileForm.get('venue').invalid &&
        (profileForm.get('venue').dirty || profileForm.get('venue').touched)"
        class="alert alert-danger">
        Please choose a Venue.
      </div>
    </div>

    <!-- <div>
          {{knownArtists.length}} Known Artists
        </div>
      
        <div>
          Known Artists Search Term = [{{knownArtistsSearchTerm}}]
        </div>
      
        <div>
          {{knownArtistsMatches.length}} Known Artists Matches
        </div> -->
    <div formArrayName="artists" class="clearfix">
      <!-- <h6>Artists</h6> -->

      <div *ngFor="let artist of artists.controls; let i=index">
        <div class="form-group" [formGroupName]="i">
          <label for="artistName">Artist Name</label>
          <input formControlName="name" type="text" class="form-control"
            id="artistName" aria-describedby="artistNameHelp"
            required
            [ngbTypeahead]="searchKnownArtists">
          <div *ngIf="artist.get('name').invalid &&
            (artist.get('name').dirty || artist.get('name').touched)"
            class="alert alert-danger">
            Please choose an Artist Name.
          </div>
        </div>
      </div>

      <button class="btn btn-outline-dark float-right btn-sm" type="button"
        (click)="addArtist()">
        Add Artist
      </button>
    </div>

    <!-- <div class="form-group">
          <label
            for="isSoldOutCheckBox">
            <input type="checkbox"
              id="isSoldOutCheckBox"
              formControlName="isSoldOut"
              />
            Sold Out
          </label>
        </div>
      
        <div class="form-group">
          <label
            for="isCancelledCheckBox">
            <input type="checkbox"
              id="isCancelledCheckBox"
              formControlName="isCancelled"
              />
            Cancelled
          </label>
        </div> -->
    <div class="form-check form-check-inline">
      <input class="form-check-input" type="checkbox" id="isSoldOutCheckBox"
        formControlName="isSoldOut">
      <label class="form-check-label" for="isSoldOutCheckBox">Sold Out</label>
    </div>
    <div class="form-check form-check-inline">
      <input class="form-check-input" type="checkbox" id="isCancelledCheckBox"
        formControlName="isCancelled">
      <label class="form-check-label" for="isCancelledCheckBox">Cancelled</label>
    </div>

    <!-- <div formArrayName="artists">
          <h5>Artists</h5>
      
          <div *ngFor="let artist of artists.controls; let i=index">
            <div class="form-group" [formGroupName]="i">
              <label for="artistName">Name</label>
              <input formControlName="name" type="text" class="form-control"
                id="artistName" aria-describedby="artistNameHelp"
                required
                [ngbTypeahead]="searchKnownArtists">
              <div *ngIf="artist.get('name').invalid &&
                (artist.get('name').dirty || artist.get('name').touched)"
                class="alert alert-danger">
                Please choose an Artist Name.
              </div>
            </div>
          </div>
        </div> -->
    <div>
      <hr />
    </div>

    <!-- <p>
          Form Status: {{ profileForm.status }}
        </p> -->
    <!-- <div *ngIf="profileForm.invalid &&
          (profileForm.dirty || profileForm.touched)"
          class="alert alert-danger">
          Please enter the required values.
        </div> -->
    <!-- 
        <div *ngIf="!profileForm.invalid" class="alert alert-success">
          The event details are valid!
        </div> 
        -->
    <button type="submit" class="btn btn-success btn-sm float-right"
      style="margin-bottom: 15px;"
      (click)="submitShow()"
      [disabled]="!profileForm.valid">Save</button>

    <br />
    <br />
  </form>

  <div>
    <div>
      <span class="badge badge-info">{{addedTodayShows.length}}</span>
      <span> new today </span>

      <span class="badge badge-info">{{addedWithin3DaysShows.length}}</span>
      <span> last 3 days </span>

      <span class="badge badge-info">{{addedWithin7DaysShows.length}}</span>
      <span> last 7 days </span>
    </div>

    <hr />

    <div>
      <!-- <a class="btn btn-primary btn-sm"
            href="https://snerks.github.io/recommended-shows-ng01/" role="button">View
            All Shows ({{showsInfo ? showsInfo.shows.length : 0}})</a> -->
      <a routerLink="/list" class="btn btn-primary btn-lg btn-block" href="#"
        role="button">
        View All Shows ({{showsInfo ? showsInfo.shows.length : 0}})
      </a>
    </div>

    <div *ngIf="isUpdating">
      Updating...
    </div>

    <div *ngIf="errorMessage" class="alert alert-danger">
      {{errorMessage}}
    </div>

    <!-- <hr />
      
        <textarea *ngIf="!profileForm.invalid" style="width: 100%;" rows="15">{{
          profileForm.value | json }}</textarea> -->
    <!-- <p>
          Value: {{ profileFormJson }}
        </p> -->
    <!-- 
          <p>
          Form Status: {{ profileForm.status }}
        </p>
        
        <pre>
          {{ profileForm.value | json }}
        </pre> -->
  </div>
</div>
